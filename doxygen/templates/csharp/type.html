{% extends 'base.html' %}

{% macro entry_type(type) %}{% include 'entry-type.html' %}{% endmacro %}
{% macro entry_method(method) %}{% include 'entry-method.html' %}{% endmacro %}

{% macro details_method(method, prefix) %}{% include 'details-method.html' %}{% endmacro %}

{% block title %}{% set j = joiner('.') %}{% for name, _ in page.breadcrumb %}{{ j() }}{{ name }}{% endfor %} | {{ super() }}{% endblock %}

{% block main %}
        <h1>
          {%+ for name, target in page.breadcrumb[:-1] %}<span class="m-breadcrumb"><a href="{{ target }}">{{ name }}</a>.<wbr/></span>{% endfor %}{{ page.breadcrumb[-1][0] }} <span class="m-thin">{{ page.kind }}</span>{% if page.is_final %} <span class="m-label m-flat m-warning">final</span>{% endif %}
          {# need an explicit space here otherwise the newline gets removed #}

        </h1>
        {% if page.summary %}
        <p>{{ page.summary }}</p>
        {% endif %}
        {% if page.types or page.members %}
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                {% if page.types %}
                <li><a href="#types">Types</a></li>
                {% endif %}
                {% if page.methods %}
                <li><a href="#methods">Methods</a></li>
                {% endif %}
              </ul>
            </li>
          </ul>
        </div>
        {% endif %}
        {% if page.types %}
        <section id="types">
          <h2><a href="#types">Types</a></h2>
          <dl class="m-dox">
            {% for class in page.types %}
{{ entry_type(type) }}
            {% endfor %}
          </dl>
        </section>
        {% endif %}
        {% if page.methods %}
        <section id="methods">
          <h2><a href="#methods">Methods</a></h2>
          <dl class="m-dox">
            {% for method in page.methods %}
{{ entry_method(method) }}
            {% endfor %}
          </dl>
        </section>
        {% endif %}
        {% if page.has_method_details %}
        <section>
          <h2>Method documentation</h2>
          {% for method in page.methods %}
          {% if method.has_details %}
{{ details_method(method) }}
          {% endif %}
          {% endfor %}
        </section>
        {% endif %}
{% endblock %}

